"use strict";(self.webpackChunkngcy=self.webpackChunkngcy||[]).push([[635],{6635:(I,m,n)=>{n.r(m),n.d(m,{POST_ROUTES:()=>O});var d=n(8224),t=n(912),i=n(3543),a=n(6485),_=n(6394);function v(o,s){1&o&&(t.TgZ(0,"h3",9),t._uU(1," Tags "),t.qZA())}function x(o,s){if(1&o&&(t.TgZ(0,"li",10)(1,"div",11),t.O4$(),t.TgZ(2,"svg",12),t._UZ(3,"path",13),t.qZA(),t.kcU(),t.TgZ(4,"span",14),t._uU(5),t.qZA()()()),2&o){const e=s.$implicit;t.xp6(5),t.Oqu(e)}}class r{constructor(){this.route=(0,t.f3M)(a.gz),this.postService=(0,t.f3M)(d.LY)}ngOnInit(){this.post$=this.route.paramMap.pipe((0,_.w)(s=>this.postService.getPostById(+(s.get("id")??0))))}}r.\u0275fac=function(s){return new(s||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-post-detail"]],standalone:!0,features:[t.jDz],decls:15,vars:12,consts:[[1,"post-list"],[1,"overflow-hidden","bg-white","shadow","sm:rounded-lg"],[1,"px-4","pt-5","sm:px-6"],[1,"text-lg","font-medium","leading-6","text-gray-900"],[1,"mt-1","max-w-2xl","text-sm","text-gray-500"],[1,"bg-white","px-4","py-5","sm:grid","sm:px-6"],["class","text-base mb-2 font-medium leading-6 text-gray-900",4,"ngIf"],["role","list",1,"divide-y","divide-gray-200","rounded-md","border","border-gray-200"],["class","flex items-center justify-between py-3 pl-3 pr-4 text-sm",4,"ngFor","ngForOf"],[1,"text-base","mb-2","font-medium","leading-6","text-gray-900"],[1,"flex","items-center","justify-between","py-3","pl-3","pr-4","text-sm"],[1,"flex","w-0","flex-1","items-center"],["viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5","flex-shrink-0","text-gray-400"],["fill-rule","evenodd","d","M15.621 4.379a3 3 0 00-4.242 0l-7 7a3 3 0 004.241 4.243h.001l.497-.5a.75.75 0 011.064 1.057l-.498.501-.002.002a4.5 4.5 0 01-6.364-6.364l7-7a4.5 4.5 0 016.368 6.36l-3.455 3.553A2.625 2.625 0 119.52 9.52l3.45-3.451a.75.75 0 111.061 1.06l-3.45 3.451a1.125 1.125 0 001.587 1.595l3.454-3.553a3 3 0 000-4.242z","clip-rule","evenodd"],[1,"ml-2","w-0","flex-1","truncate"]],template:function(s,e){if(1&s&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"async"),t.qZA(),t.TgZ(6,"p",4),t._uU(7),t.ALo(8,"async"),t.qZA()(),t.TgZ(9,"div",5),t.YNc(10,v,2,0,"h3",6),t.ALo(11,"async"),t.TgZ(12,"ul",7),t.YNc(13,x,6,1,"li",8),t.ALo(14,"async"),t.qZA()()()()),2&s){let l,h,f;t.xp6(4),t.hij(" ",null==(l=t.lcZ(5,4,e.post$))?null:l.title," "),t.xp6(3),t.hij(" ",null==(h=t.lcZ(8,6,e.post$))?null:h.body," "),t.xp6(3),t.Q6J("ngIf",t.lcZ(11,8,e.post$)),t.xp6(3),t.Q6J("ngForOf",null==(f=t.lcZ(14,10,e.post$))?null:f.tags)}},dependencies:[i.O5,i.sg,i.Ov,a.Bz],encapsulation:2});var c=n(4580);const g=function(){return[null]};function y(o,s){1&o&&(t.TgZ(0,"a",6),t._uU(1,"Edit"),t.qZA()),2&o&&t.Q6J("routerLink",t.DdM(1,g))}function Z(o,s){1&o&&(t.TgZ(0,"a",6),t._uU(1,"Delete"),t.qZA()),2&o&&t.Q6J("routerLink",t.DdM(1,g))}const T=function(o){return["/posts",o]};class u{constructor(){this.adminRole=c.H.ADMIN,this.authorRole=c.H.AUTHOR}}u.\u0275fac=function(s){return new(s||u)},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-post-card"]],inputs:{post:"post",auth_user:"auth_user"},standalone:!0,features:[t.jDz],decls:11,vars:6,consts:[[1,"flex","items-center","justify-between","py-3","pl-3","pr-4","text-sm"],[1,"flex","w-0","flex-1","items-center"],["viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5","flex-shrink-0","text-gray-400"],["fill-rule","evenodd","d","M15.621 4.379a3 3 0 00-4.242 0l-7 7a3 3 0 004.241 4.243h.001l.497-.5a.75.75 0 011.064 1.057l-.498.501-.002.002a4.5 4.5 0 01-6.364-6.364l7-7a4.5 4.5 0 016.368 6.36l-3.455 3.553A2.625 2.625 0 119.52 9.52l3.45-3.451a.75.75 0 111.061 1.06l-3.45 3.451a1.125 1.125 0 001.587 1.595l3.454-3.553a3 3 0 000-4.242z","clip-rule","evenodd"],[1,"ml-2","w-0","flex-1","truncate"],[1,"ml-4","flex-shrink-0","space-x-4"],[1,"font-medium","text-indigo-600","hover:text-indigo-500",3,"routerLink"],["class","font-medium text-indigo-600 hover:text-indigo-500",3,"routerLink",4,"ngIf"]],template:function(s,e){1&s&&(t.TgZ(0,"li",0)(1,"div",1),t.O4$(),t.TgZ(2,"svg",2),t._UZ(3,"path",3),t.qZA(),t.kcU(),t.TgZ(4,"span",4),t._uU(5),t.qZA()(),t.TgZ(6,"div",5)(7,"a",6),t._uU(8,"View"),t.qZA(),t.YNc(9,y,2,2,"a",7),t.YNc(10,Z,2,2,"a",7),t.qZA()()),2&s&&(t.xp6(5),t.Oqu(e.post.title),t.xp6(2),t.Q6J("routerLink",t.VKq(4,T,e.post.id)),t.xp6(2),t.Q6J("ngIf",(null==e.auth_user?null:e.auth_user.role)==e.authorRole&&(null==e.auth_user?null:e.auth_user.id)===e.post.userId),t.xp6(1),t.Q6J("ngIf",(null==e.auth_user?null:e.auth_user.role)==e.adminRole||(null==e.auth_user?null:e.auth_user.role)==e.authorRole&&(null==e.auth_user?null:e.auth_user.id)===e.post.userId))},dependencies:[a.Bz,a.rH,i.O5],encapsulation:2});var A=n(8797);function C(o,s){if(1&o&&t._UZ(0,"app-post-card",9),2&o){const e=s.$implicit,l=t.oxw(2);t.Q6J("auth_user",l.auth_user)("post",e)}}function P(o,s){if(1&o&&(t.ynx(0),t.YNc(1,C,1,2,"app-post-card",8),t.BQk()),2&o){const e=s.ngIf;t.xp6(1),t.Q6J("ngForOf",e)}}function w(o,s){if(1&o&&t._UZ(0,"app-post-card",9),2&o){const e=s.$implicit,l=t.oxw(3);t.Q6J("auth_user",l.auth_user)("post",e)}}function U(o,s){if(1&o&&(t.ynx(0),t.YNc(1,w,1,2,"app-post-card",8),t.BQk()),2&o){const e=s.ngIf;t.xp6(1),t.Q6J("ngForOf",e)}}function L(o,s){if(1&o&&(t.TgZ(0,"article")(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4," Your post list "),t.qZA(),t.TgZ(5,"p",4),t._uU(6," Displays a list of posts from you. "),t.qZA()(),t.TgZ(7,"div",5)(8,"ul",6),t.YNc(9,U,2,1,"ng-container",7),t.ALo(10,"async"),t.qZA()()()()),2&o){const e=t.oxw();t.xp6(9),t.Q6J("ngIf",t.lcZ(10,1,e.yourPosts$))}}class p{constructor(){this.postService=(0,t.f3M)(d.LY),this.authService=(0,t.f3M)(d.e8),this.toastrService=(0,t.f3M)(A._W),this.authorRole=c.H.AUTHOR,this.adminRole=c.H.ADMIN,this.options={autoClose:!0,keepAfterRouteChange:!0}}ngOnInit(){this.auth_user=this.authService.getAuthUser(),this.posts$=this.postService.getPosts(),this.yourPosts$=this.postService.getAllPostsByUserId(this.auth_user?.id||0)}trackById(s,e){return e.id}}p.\u0275fac=function(s){return new(s||p)},p.\u0275cmp=t.Xpm({type:p,selectors:[["app-post-list"]],standalone:!0,features:[t.jDz],decls:13,vars:6,consts:[[1,"post-list","grid","grid-cols-1","gap-4"],[1,"overflow-hidden","bg-white","shadow","sm:rounded-lg"],[1,"px-4","py-5","sm:px-6"],[1,"text-lg","font-medium","leading-6","text-gray-900"],[1,"mt-1","max-w-2xl","text-sm","text-gray-500"],[1,"bg-white","px-4","py-5","sm:grid","sm:px-6"],["role","list",1,"divide-y","divide-gray-200","rounded-md","border","border-gray-200"],[4,"ngIf"],[3,"auth_user","post",4,"ngFor","ngForOf"],[3,"auth_user","post"]],template:function(s,e){1&s&&(t.TgZ(0,"section",0)(1,"article")(2,"div",1)(3,"div",2)(4,"h3",3),t._uU(5," Post list "),t.qZA(),t.TgZ(6,"p",4),t._uU(7," Displays a list of posts from all authors. "),t.qZA()(),t.TgZ(8,"div",5)(9,"ul",6),t.YNc(10,P,2,1,"ng-container",7),t.ALo(11,"async"),t.qZA()()()(),t.YNc(12,L,11,3,"article",7),t.qZA()),2&s&&(t.ekj("md:grid-cols-2",(null==e.auth_user?null:e.auth_user.role)===e.authorRole),t.xp6(10),t.Q6J("ngIf",t.lcZ(11,4,e.posts$)),t.xp6(2),t.Q6J("ngIf",(null==e.auth_user?null:e.auth_user.role)===e.authorRole))},dependencies:[i.O5,i.sg,i.Ov,a.Bz,u],encapsulation:2});const O=[{path:"",pathMatch:"prefix",providers:[d.LY],children:[{path:"",component:p},{path:":id",component:r}]}]}}]);