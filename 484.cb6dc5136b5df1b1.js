"use strict";(self.webpackChunkngcy=self.webpackChunkngcy||[]).push([[484],{7484:(F,g,a)=>{a.r(g),a.d(g,{POST_ROUTES:()=>J});var c=a(2746),t=a(6739),r=a(1576),p=a(3590),f=a(7363),l=a(285),y=a(6321);const u=(0,l.ZF)(y.X),x=((0,l.P1)(u,e=>e.posts),(0,l.P1)(u,e=>e.posts)),v=(0,l.P1)(u,e=>e.yourPosts),_=(0,l.P1)(u,e=>e.currentPost);var h=a(7510);function Z(e,i){if(1&e&&(t.TgZ(0,"li",10)(1,"div",11),t.O4$(),t.TgZ(2,"svg",12),t._UZ(3,"path",13),t.qZA(),t.kcU(),t.TgZ(4,"span",14),t._uU(5),t.qZA()()()),2&e){const o=i.$implicit;t.xp6(5),t.Oqu(o)}}function T(e,i){if(1&e&&(t.ynx(0),t.TgZ(1,"div",3)(2,"h3",4),t._uU(3),t.qZA(),t.TgZ(4,"p",5),t._uU(5),t.qZA()(),t.TgZ(6,"div",6)(7,"h3",7),t._uU(8," Tags "),t.qZA(),t.TgZ(9,"ul",8),t.YNc(10,Z,6,1,"li",9),t.qZA()(),t.BQk()),2&e){const o=i.ngIf;t.xp6(3),t.hij(" ",o.title," "),t.xp6(2),t.hij(" ",o.body," "),t.xp6(5),t.Q6J("ngForOf",o.tags)}}let A=(()=>{class e{constructor(){this.store=(0,t.f3M)(l.yh),this.route=(0,t.f3M)(p.gz)}ngOnInit(){this.post$=this.route.paramMap.pipe((0,f.w)(o=>(this.store.dispatch((0,h.sW)({id:+(o.get("id")??0)})),this.store.select(_))))}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-post-detail"]],standalone:!0,features:[t.jDz],decls:4,vars:3,consts:[[1,"post-list"],[1,"overflow-hidden","bg-white","shadow","sm:rounded-lg"],[4,"ngIf"],[1,"px-4","pt-5","sm:px-6"],["data-cy","post-title",1,"text-lg","font-medium","leading-6","text-gray-900"],["data-cy","post-body",1,"mt-1","max-w-2xl","text-sm","text-gray-500"],[1,"bg-white","px-4","py-5","sm:grid","sm:px-6"],[1,"text-base","mb-2","font-medium","leading-6","text-gray-900"],["role","list",1,"divide-y","divide-gray-200","rounded-md","border","border-gray-200"],["class","flex items-center justify-between py-3 pl-3 pr-4 text-sm",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","py-3","pl-3","pr-4","text-sm"],[1,"flex","w-0","flex-1","items-center"],["viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5","flex-shrink-0","text-gray-400"],["fill-rule","evenodd","d","M15.621 4.379a3 3 0 00-4.242 0l-7 7a3 3 0 004.241 4.243h.001l.497-.5a.75.75 0 011.064 1.057l-.498.501-.002.002a4.5 4.5 0 01-6.364-6.364l7-7a4.5 4.5 0 016.368 6.36l-3.455 3.553A2.625 2.625 0 119.52 9.52l3.45-3.451a.75.75 0 111.061 1.06l-3.45 3.451a1.125 1.125 0 001.587 1.595l3.454-3.553a3 3 0 000-4.242z","clip-rule","evenodd"],[1,"ml-2","w-0","flex-1","truncate"]],template:function(n,s){1&n&&(t.TgZ(0,"section",0)(1,"div",1),t.YNc(2,T,11,3,"ng-container",2),t.ALo(3,"async"),t.qZA()()),2&n&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,1,s.post$)))},dependencies:[r.O5,r.sg,r.Ov,p.Bz],encapsulation:2,changeDetection:0})}return e})();var d=a(7028),m=a(2844);function P(e,i){1&e&&(t.TgZ(0,"a",9),t._uU(1,"Edit"),t.qZA())}function C(e,i){1&e&&(t.TgZ(0,"a",10),t._uU(1,"Delete"),t.qZA())}const U=e=>["/posts",e];let O=(()=>{class e{constructor(){this.adminRole=d.HB.ADMIN,this.authorRole=d.HB.AUTHOR}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-post-card"]],inputs:{post:"post",auth_user:"auth_user"},standalone:!0,features:[t.jDz],decls:11,vars:7,consts:[[1,"flex","items-center","justify-between","py-3","pl-3","pr-4","text-sm"],[1,"flex","w-0","flex-1","items-center"],["viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5","flex-shrink-0","text-gray-400"],["fill-rule","evenodd","d","M15.621 4.379a3 3 0 00-4.242 0l-7 7a3 3 0 004.241 4.243h.001l.497-.5a.75.75 0 011.064 1.057l-.498.501-.002.002a4.5 4.5 0 01-6.364-6.364l7-7a4.5 4.5 0 016.368 6.36l-3.455 3.553A2.625 2.625 0 119.52 9.52l3.45-3.451a.75.75 0 111.061 1.06l-3.45 3.451a1.125 1.125 0 001.587 1.595l3.454-3.553a3 3 0 000-4.242z","clip-rule","evenodd"],["data-cy","post-title",1,"ml-2","w-0","flex-1","truncate",3,"appTooltip"],[1,"ml-4","flex-shrink-0","space-x-4"],["appHighlight","","data-cy","view-post-link",1,"font-medium","text-indigo-600","hover:text-indigo-500",3,"routerLink"],["data-cy","edit-post-link","class","cursor-pointer font-medium text-indigo-600 hover:text-indigo-500",4,"ngIf"],["data-cy","delete-post-link","class","cursor-pointer font-medium text-indigo-600 hover:text-indigo-500",4,"ngIf"],["data-cy","edit-post-link",1,"cursor-pointer","font-medium","text-indigo-600","hover:text-indigo-500"],["data-cy","delete-post-link",1,"cursor-pointer","font-medium","text-indigo-600","hover:text-indigo-500"]],template:function(n,s){1&n&&(t.TgZ(0,"li",0)(1,"div",1),t.O4$(),t.TgZ(2,"svg",2),t._UZ(3,"path",3),t.qZA(),t.kcU(),t.TgZ(4,"span",4),t._uU(5),t.qZA()(),t.TgZ(6,"div",5)(7,"a",6),t._uU(8,"View"),t.qZA(),t.YNc(9,P,2,0,"a",7)(10,C,2,0,"a",8),t.qZA()()),2&n&&(t.xp6(4),t.Q6J("appTooltip",s.post.title),t.xp6(1),t.Oqu(s.post.title),t.xp6(2),t.Q6J("routerLink",t.VKq(5,U,s.post.id)),t.xp6(2),t.Q6J("ngIf",(null==s.auth_user?null:s.auth_user.role)==s.authorRole&&(null==s.auth_user?null:s.auth_user.id)===s.post.userId),t.xp6(1),t.Q6J("ngIf",(null==s.auth_user?null:s.auth_user.role)==s.adminRole||(null==s.auth_user?null:s.auth_user.role)==s.authorRole&&(null==s.auth_user?null:s.auth_user.id)===s.post.userId))},dependencies:[p.Bz,p.rH,r.ez,r.O5,m.ZH,m.i9],encapsulation:2})}return e})();var w=a(7120);function I(e,i){if(1&e&&t._UZ(0,"app-post-card",9),2&e){const o=i.$implicit,n=t.oxw(2);t.Q6J("auth_user",n.auth_user)("post",o)}}function Q(e,i){if(1&e&&(t.ynx(0),t.YNc(1,I,1,2,"app-post-card",8),t.BQk()),2&e){const o=i.ngIf;t.xp6(1),t.Q6J("ngForOf",o)}}function R(e,i){if(1&e&&t._UZ(0,"app-post-card",9),2&e){const o=i.$implicit,n=t.oxw(3);t.Q6J("auth_user",n.auth_user)("post",o)}}function B(e,i){if(1&e&&(t.ynx(0),t.YNc(1,R,1,2,"app-post-card",8),t.BQk()),2&e){const o=i.ngIf;t.xp6(1),t.Q6J("ngForOf",o)}}function D(e,i){if(1&e&&(t.TgZ(0,"article")(1,"div",1)(2,"div",2)(3,"h3",10),t._uU(4," Your post list "),t.qZA(),t.TgZ(5,"p",4),t._uU(6," Displays a list of posts from you. "),t.qZA()(),t.TgZ(7,"div",5)(8,"ul",6),t.YNc(9,B,2,1,"ng-container",7),t.ALo(10,"async"),t.qZA()()()()),2&e){const o=t.oxw();t.xp6(9),t.Q6J("ngIf",t.lcZ(10,1,o.yourPosts$))}}const J=[{path:"",pathMatch:"prefix",providers:[{provide:c.LY,useClass:c.LY}],children:[{path:"",component:(()=>{class e{constructor(){this.authService=(0,t.f3M)(c.e8),this.toastrService=(0,t.f3M)(w._W),this.store=(0,t.f3M)(l.yh),this.authorRole=d.HB.AUTHOR,this.adminRole=d.HB.ADMIN,this.options={autoClose:!0,keepAfterRouteChange:!0},this.auth_user=this.authService.getAuthUser(),this.store.dispatch((0,h.df)({page:0,limit:10})),this.store.dispatch((0,h.UB)({userId:this.auth_user?.id||0}))}ngOnInit(){this.posts$=this.store.select(x),this.yourPosts$=this.store.select(v)}trackById(o,n){return n.id}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-post-list"]],standalone:!0,features:[t.jDz],decls:13,vars:6,consts:[[1,"post-list","grid","grid-cols-1","gap-4"],[1,"overflow-hidden","bg-white","shadow","sm:rounded-lg"],[1,"px-4","py-5","sm:px-6"],["data-cy","post-list",1,"text-lg","font-medium","leading-6","text-gray-900"],[1,"mt-1","max-w-2xl","text-sm","text-gray-500"],[1,"bg-white","px-4","py-5","sm:grid","sm:px-6"],["role","list",1,"divide-y","divide-gray-200","rounded-md","border","border-gray-200"],[4,"ngIf"],[3,"auth_user","post",4,"ngFor","ngForOf"],[3,"auth_user","post"],["data-cy","your-post-list",1,"text-lg","font-medium","leading-6","text-gray-900"]],template:function(n,s){1&n&&(t.TgZ(0,"section",0)(1,"article")(2,"div",1)(3,"div",2)(4,"h3",3),t._uU(5," Post list "),t.qZA(),t.TgZ(6,"p",4),t._uU(7," Displays a list of posts from all authors. "),t.qZA()(),t.TgZ(8,"div",5)(9,"ul",6),t.YNc(10,Q,2,1,"ng-container",7),t.ALo(11,"async"),t.qZA()()()(),t.YNc(12,D,11,3,"article",7),t.qZA()),2&n&&(t.ekj("md:grid-cols-2",(null==s.auth_user?null:s.auth_user.role)===s.authorRole),t.xp6(10),t.Q6J("ngIf",t.lcZ(11,4,s.posts$)),t.xp6(2),t.Q6J("ngIf",(null==s.auth_user?null:s.auth_user.role)===s.authorRole))},dependencies:[r.ez,r.sg,r.O5,r.Ov,p.Bz,O],encapsulation:2,changeDetection:0})}return e})()},{path:":id",component:A}]}]}}]);